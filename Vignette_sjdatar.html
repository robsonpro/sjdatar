<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Robson Bruno Dutra Pereira">

<title>Introduction to sjdatar</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Vignette_sjdatar_files/libs/clipboard/clipboard.min.js"></script>
<script src="Vignette_sjdatar_files/libs/quarto-html/quarto.js"></script>
<script src="Vignette_sjdatar_files/libs/quarto-html/popper.min.js"></script>
<script src="Vignette_sjdatar_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Vignette_sjdatar_files/libs/quarto-html/anchor.min.js"></script>
<link href="Vignette_sjdatar_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Vignette_sjdatar_files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Vignette_sjdatar_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Vignette_sjdatar_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Vignette_sjdatar_files/libs/bootstrap/bootstrap-1bc8a17f135ab3d594c857e9f48e611b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introduction to sjdatar</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Robson Bruno Dutra Pereira </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p><img src="slsjdatar.png" class="img-fluid"></p>
<p>The package <code>sjdatar</code> was created to share the datasets collected by the students of Supervised Learning course taught at Federal University of São João del-Rei (UFSJ) in the Industrial Engineering undergraduate. These datasets were used by the students to perform activities about regression and classification modeling. Now they can be used for new students and people interested in supervised learning. New datasets collected by the students will be available in new versions of the package.</p>
<section id="installing-and-loading-the-package" class="level2">
<h2 class="anchored" data-anchor-id="installing-and-loading-the-package">Installing and loading the package</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Certify that devtools is installed</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># if (!require("devtools")) install.packages("devtools")</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Install th package from github</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># devtools::install_github("robsonpro/sjdatar")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sjdatar)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="dataset-aluguel2025sjdr" class="level2">
<h2 class="anchored" data-anchor-id="dataset-aluguel2025sjdr">Dataset <code>aluguel2025sjdr</code></h2>
<p>Dataset containing information on property rentals in São João del Rei for the year 2025, including prices, property features, and location.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(aluguel2025sjdr)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(aluguel2025sjdr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   191 obs. of  11 variables:
 $ bairro          : chr  "Tejuco" "" "Fabricas" "Dom Bosco" ...
 $ numero_quartos  : int  1 1 1 1 1 1 1 2 2 2 ...
 $ numero_banheiros: int  1 1 1 1 1 1 1 2 2 1 ...
 $ vagas_carro     : int  NA 0 0 0 0 0 0 0 2 0 ...
 $ area_gourmet    : chr  "N" "N" "N" "N" ...
 $ mobiliado       : chr  "N" "N" "S" "N" ...
 $ varanda         : chr  "N" "N" "N" "N" ...
 $ imobiliaria     : chr  "N" "N" "N" "S" ...
 $ tipo            : chr  "Casa" "Apartamento" "Apartamento" "Apartamento" ...
 $ preco           : num  600 750 900 900 800 600 800 1200 1500 900 ...
 $ Link            : chr  "https://www.facebook.com/marketplace/item/1445122673503046?ref=browse_tab&amp;referral_code=marketplace_top_picks&amp;r"| __truncated__ "https://www.facebook.com/marketplace/item/1593219631374355?ref=browse_tab&amp;referral_code=marketplace_top_picks&amp;r"| __truncated__ "https://www.facebook.com/marketplace/item/600487866484792?ref=browse_tab&amp;referral_code=marketplace_general&amp;refe"| __truncated__ "https://www.facebook.com/marketplace/item/593497410362949?ref=browse_tab&amp;referral_code=marketplace_general&amp;refe"| __truncated__ ...</code></pre>
</div>
</div>
</section>
<section id="dataset-apartamentos2024mg" class="level2">
<h2 class="anchored" data-anchor-id="dataset-apartamentos2024mg">Dataset <code>apartamentos2024mg</code></h2>
<p>Dataset containing information about apartments available for sale in Minas Gerais, for the year 2024, including sale prices, property characteristics, and location.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(apartamentos2024mg)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(apartamentos2024mg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   632 obs. of  14 variables:
 $ Cidade      : chr  "Barbacena" "Barbacena" "Barbacena" "Barbacena" ...
 $ Bairro      : chr  "Santa Tereza" "Boa Morte" "Serra Verde" "Centro" ...
 $ Area        : num  90 74 54 88 210 133 90 19 104 208 ...
 $ Valor       : num  320000 296000 198500 349000 590000 ...
 $ Quartos     : int  2 2 2 3 3 2 3 1 3 3 ...
 $ Banheiros   : int  2 2 1 3 3 2 2 1 2 2 ...
 $ Vaga        : int  1 1 0 0 1 0 1 0 1 1 ...
 $ Varanda     : chr  "N" "S" "N" "N" ...
 $ Suite       : int  0 0 0 1 1 0 0 0 0 1 ...
 $ Area.Gourmet: chr  "S" "N" "N" "S" ...
 $ Terraco     : chr  "N" "N" "N" "N" ...
 $ Sala        : int  1 1 1 1 1 1 1 1 1 1 ...
 $ Copa        : chr  "S" "S" "S" "S" ...
 $ Piscina     : chr  "N" "N" "N" "N" ...</code></pre>
</div>
</div>
</section>
<section id="dataset-carrosusados2025webmotors" class="level2">
<h2 class="anchored" data-anchor-id="dataset-carrosusados2025webmotors">Dataset <code>carrosusados2025webmotors</code></h2>
<p>Dataset containing information about used cars collected from the Webmotors platform in 2025, including model, manufacturer, prices, vehicle characteristics, year, and mileage.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(carrosusados2025webmotors)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(carrosusados2025webmotors)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   200 obs. of  9 variables:
 $ Marca      : chr  "TOYOTA" "TOYOTA" "TOYOTA" "TOYOTA" ...
 $ Carro      : chr  "COROLLA" "COROLLA" "COROLLA" "COROLLA" ...
 $ Ano        : int  2024 2024 2024 2024 2023 2024 2019 2020 2022 2023 ...
 $ Km         : int  5000 31445 28416 31445 63346 31469 101455 56400 59957 64000 ...
 $ Cambio     : chr  "Automatico" "Automatico" "Automatico" "Automatico" ...
 $ Motor      : num  2 2 2 2 2 2 2 1.8 2 2 ...
 $ Valvulas   : num  16 16 16 16 16 16 16 16 16 16 ...
 $ Combustivel: chr  "Flex" "Flex" "Flex" "Flex" ...
 $ Preco      : int  175900 149400 135690 147990 134990 147990 108900 127990 129490 143900 ...</code></pre>
</div>
</div>
</section>
<section id="dataset-celularesnovos2025" class="level2">
<h2 class="anchored" data-anchor-id="dataset-celularesnovos2025">Dataset <code>celularesnovos2025</code></h2>
<p>Dataset containing information about new cell phones available in 2025, including price, model, and technical specifications.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(celularesnovos2025)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(celularesnovos2025)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   200 obs. of  10 variables:
 $ modelo       : chr  "Samsung Galaxy Z Fold 6" "Samsung Galaxy A56" "Samsung Galaxy S24 FE" "Samsung Galaxy A36" ...
 $ marca        : chr  "Samsung" "Samsung" "Samsung" "Samsung" ...
 $ ram          : int  16 8 8 8 4 6 4 4 8 12 ...
 $ armazenamento: int  1024 256 512 256 128 128 128 128 256 512 ...
 $ camerah      : int  8165 8165 8165 8165 8000 9238 9000 8000 8165 6330 ...
 $ cameral      : int  6124 6124 6124 6124 6000 6928 7000 6000 6124 4247 ...
 $ ano          : int  2024 2025 2024 2025 2025 2021 2021 2021 2023 2025 ...
 $ resolucao    : chr  "8K UHD" "4K (2160p)" "8K UHD" "4K (2160p)" ...
 $ bateria      : int  4400 5000 4700 5000 4000 4500 5000 5000 5000 3900 ...
 $ Preco        : int  6999 1833 2498 1599 1574 1529 1169 1559 764 6399 ...</code></pre>
</div>
</div>
</section>
<section id="dataset-celularesusados" class="level2">
<h2 class="anchored" data-anchor-id="dataset-celularesusados">Dataset <code>celularesusados</code></h2>
<p>Dataset containing information about used cell phones, including price, technical specifications, condition, and device features.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(celularesusados)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(celularesusados)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   200 obs. of  8 variables:
 $ modelo       : chr  "Poco X3 NFC 128GB" "Moto G10 64GB" "Galaxy A52 128GB" "Moto G30 128GB" ...
 $ marca        : chr  "Xiaomi" "Motorola" "Samsung" "Motorola" ...
 $ anolancamento: int  2020 2021 2021 2021 2021 2020 2021 2020 2020 2019 ...
 $ armazenamento: int  128 64 128 128 64 128 128 128 128 64 ...
 $ estado       : chr  "Usado" "Com avarias" "Usado" "Novo" ...
 $ notafiscal   : chr  "Sim" "Nao" "Nao" "Sim" ...
 $ fonte        : chr  "OLX" "OLX" "OLX" "OLX" ...
 $ preco        : int  926 1630 880 2364 2355 2040 2540 2130 2144 838 ...</code></pre>
</div>
</div>
</section>
<section id="dataset-feijoes" class="level2">
<h2 class="anchored" data-anchor-id="dataset-feijoes">Dataset <code>feijoes</code></h2>
<p>Dataset with measurements on distinct beans found in brazilian market.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(feijoes)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(feijoes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   250 obs. of  5 variables:
 $ feijao     : chr  "fradinho" "fradinho" "fradinho" "fradinho" ...
 $ comprimento: num  9.16 8.76 8.81 8.11 9.08 ...
 $ largura    : num  6.26 6.59 6.78 6.39 6.42 6.4 6.28 6.68 7.26 6.5 ...
 $ espessura  : num  5.26 5.01 5.43 4.78 5.22 4.85 5.12 5.24 5.97 5.08 ...
 $ massa      : num  0.21 0.21 0.24 0.18 0.23 0.16 0.17 0.23 0.27 0.2 ...</code></pre>
</div>
</div>
</section>
<section id="dataset-folhasfrutas" class="level2">
<h2 class="anchored" data-anchor-id="dataset-folhasfrutas">Dataset <code>folhasfrutas</code></h2>
<p>Dataset on measurements obtained through image analysis of fruit tree leaves.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(folhasfrutas)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(folhasfrutas)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   235 obs. of  9 variables:
 $ especie     : chr  "goiaba" "goiaba" "goiaba" "goiaba" ...
 $ area        : num  2.359 2.291 1.887 1.232 0.971 ...
 $ perimeter   : num  5.58 5.82 5.1 5.22 3.68 ...
 $ radius.mean : num  0.91 0.912 0.824 0.748 0.601 ...
 $ radius.sd   : num  0.157 0.161 0.168 0.285 0.154 ...
 $ radius.min  : num  0.695 0.651 0.572 0.249 0.311 ...
 $ radius.max  : num  1.16 1.25 1.1 1.24 0.86 ...
 $ majoraxis   : num  2.31 2.23 2.15 2.34 1.68 ...
 $ eccentricity: int  789 763 819 941 868 909 841 798 908 883 ...</code></pre>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>